{% load static %}
{# Top navigation bar component #}
<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom"
     data-component="topnav">
    <div class="container-fluid">
        {# Brand #}
        <a class="navbar-brand"
           href="{% url 'core:dashboard' %}"
           data-nav-item="home">
            <img src="{% static 'img/sbomify-icon.svg' %}"
                 alt="sbomify"
                 width="30"
                 height="30">
        </a>
        {# Mobile toggle #}
        <button class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarContent"
                aria-controls="navbarContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
                data-action="toggle-nav">
            <span class="navbar-toggler-icon"></span>
        </button>
        {# Navigation content #}
        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                {# User dropdown #}
                <li class="nav-item dropdown" data-component="user-menu">
                    <a class="nav-link dropdown-toggle"
                       href="#"
                       id="userDropdown"
                       role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false"
                       data-action="toggle-user-menu">
                        {% if request.session.user_photo %}
                            <img src="{{ request.session.user_photo }}"
                                 alt=""
                                 class="avatar rounded-circle"
                                 width="32"
                                 height="32">
                        {% else %}
                            <i class="bi bi-person-circle"></i>
                        {% endif %}
                        <span class="text-dark d-none d-lg-inline ms-1">{{ request.user.username }}</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end"
                        aria-labelledby="userDropdown">
                        <li>
                            <a class="dropdown-item"
                               href="{% url 'core:settings' %}"
                               data-nav-item="settings">
                                <i class="bi bi-gear me-2"></i>User Settings
                            </a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="dropdown-item"
                               href="{% url 'core:logout' %}"
                               data-nav-item="logout">
                                <i class="bi bi-box-arrow-right me-2"></i>Log out
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
