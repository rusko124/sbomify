{% extends "core/public_base.html.j2" %}
{% load static %}
{% load django_vite %}
{% load breadcrumb_tags %}
{% block title %}{{ product.name }}{% endblock %}
{% block extra_css %}
    <link rel="stylesheet"
          href="{% static 'css/components/public-page-layout.css' %}">
{% endblock %}
{% block meta_description %}
    {{ product.name }} - Software Bill of Materials (SBOM) for this product. View projects, components, and download SBOMs.
{% endblock %}
{% block breadcrumb %}
    {% breadcrumb product 'product' %}
{% endblock %}
{% block content %}
    <div class="public-page-layout">
        <div class="content-wrapper">
            <div class="content-container">
                <div class="public-page-header">
                    <div class="page-header-content">
                        <h1 class="page-title">
                            <i class="fas fa-box title-icon"></i>
                            {{ product.name }}
                        </h1>
                    </div>
                </div>
                <div class="public-main-content">
                    <div class="content-section">
                        <div class="product-content">
                            <div class="product-identifiers-section">
                                <div class="vc-product-identifiers"
                                     data-product-id="{{ product.id }}"
                                     data-has-crud-permissions="false"
                                     data-billing-plan="business"></div>
                            </div>
                            <div class="product-links-section">
                                <div class="vc-product-links"
                                     data-product-id="{{ product.id }}"
                                     data-has-crud-permissions="false"></div>
                            </div>
                            <div class="product-projects-section">
                                <div class="vc-public-product-projects"
                                     data-product-id="{{ product.id }}"
                                     data-brand-color="{{ brand.primary_color|default:'#4f46e5' }}"
                                     data-accent-color="{{ brand.secondary_color|default:'#7c8b9d' }}"></div>
                            </div>
                            <div class="product-releases-section">
                                <div class="vc-product-releases"
                                     data-product-id="{{ product.id }}"
                                     data-has-crud-permissions="false"
                                     data-public-view="true"
                                     data-view-all-url="{% url 'core:product_releases_public' product.id %}"></div>
                            </div>
                            {% if has_downloadable_content %}
                                <div class="download-section">
                                    <div class="vc-public-download-card"
                                         data-title="Download Latest Release"
                                         data-description="Download SBOM from the latest release containing the most current artifacts for this product"
                                         data-download-url="{% url 'core:sbom_download_product' product.id %}"
                                         data-download-text="Download Latest Release"
                                         data-download-icon="fas fa-download"></div>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block scripts %}
    {% vite_asset 'sbomify/apps/core/js/main.ts' %}
    {% vite_asset 'sbomify/apps/sboms/js/main.ts' %}
{% endblock %}
